<div class="card card-collection bg-light mb-3 {% if boxShadow %} box-shadow rounded-0 border-0{% endif %}">
    <div class="card-header">created by <a href="#">{{ collection.owner.name }}</a></div>
    <div class="card-body">
        <h4 class="card-title mb-4" style="height: 4rem;line-height: 1.5;overflow: hidden">{{ collection.name }}</h4>
        <p class="card-text text-muted" style="height:5rem;line-height: 1.3;overflow: hidden;">
            {{ str_limit(collection.description,80) }}
        </p>
        <p>
            <a href="/soup/collection/{{ collection.id }}"
               class="btn btn-outline-primary btn-sm">详情</a>
            {% if collection.hasCollector(user.id) %}
            <a
                    href="#"
                    class="btn btn-outline-primary btn-sm"
                    data-request="onCollectedCollection"
                    data-request-data="'collection_id':{{ collection.id}}"
                    data-request-confirm="你真的要取消收藏？">
                已收藏({{ collection.collectors.count() }})
            </a>
            {% else %}
            <a
                    href="#"
                    data-request-flash
                    class="btn btn-outline-primary btn-sm"
                    data-request="onCollectedCollection"
                    data-request-data="'collection_id':{{ collection.id}}">
                收藏({{ collection.collectors.count() }})
            </a>
            {% endif %}
        </p>
    </div>
    <div class="card-footer">
        <small class="text-muted">{{ collection.created_at|time_diff }}</small>
        <small class="text-muted">{{ collection.soups.count() }} 篇鸡汤</small>
    </div>
</div>